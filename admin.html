<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orphanage Admin Dashboard - AdoptLink</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
            --sidebar-width: 280px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: var(--sidebar-width);
            background: linear-gradient(180deg, var(--primary), #1a252f);
            color: white;
            height: 100vh;
            position: fixed;
            padding: 20px 0;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
            padding: 0 25px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }
        
        .logo i {
            font-size: 2.2rem;
            margin-right: 12px;
            color: var(--secondary);
        }
        
        .logo h1 {
            font-size: 1.6rem;
            font-weight: 600;
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .menu-item {
            padding: 16px 30px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            margin: 5px 0;
        }
        
        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .menu-item.active {
            background-color: rgba(52, 152, 219, 0.2);
            border-left: 4px solid var(--secondary);
        }
        
        .menu-item i {
            margin-right: 15px;
            width: 20px;
            text-align: center;
            font-size: 1.1rem;
        }
        
        .menu-badge {
            background: var(--secondary);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: auto;
        }
        
        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 25px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .header h2 {
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .user-details h4 {
            margin-bottom: 5px;
            color: var(--primary);
        }
        
        .user-details p {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Dashboard Content */
        .dashboard-content {
            display: none;
        }
        
        .dashboard-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            width: 70px;
            height: 70px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 1.8rem;
        }
        
        .stat-info h3 {
            font-size: 2.2rem;
            margin-bottom: 5px;
            color: var(--primary);
        }
        
        .stat-info p {
            color: #666;
            font-size: 0.95rem;
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .card-title {
            font-size: 1.4rem;
            color: var(--primary);
            font-weight: 600;
        }
        
        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn i {
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: 0.85rem;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        .data-table th, .data-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .data-table th {
            background: var(--light);
            color: var(--dark);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .data-table tr:hover {
            background-color: #f8f9fa;
        }
        
        /* Status Badges */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-available {
            background: #d4edda;
            color: #155724;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-adopted {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .status-verified {
            background: #d4edda;
            color: #155724;
        }
        
        .status-pending-review {
            background: #ffeaa7;
            color: #856404;
        }
        
        .status-rejected {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-completed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-scheduled {
            background: #fff3cd;
            color: #856404;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            padding: 6px 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }
        
        .action-btn.view {
            background: #e3f2fd;
            color: var(--secondary);
        }
        
        .action-btn.edit {
            background: #fff3e0;
            color: var(--warning);
        }
        
        .action-btn.delete {
            background: #ffebee;
            color: var(--danger);
        }
        
        .action-btn.assign {
            background: #e8f5e8;
            color: var(--success);
        }
        
        .action-btn.verify {
            background: #e3f2fd;
            color: var(--secondary);
        }
        
        .action-btn.approve {
            background: #e8f5e8;
            color: var(--success);
        }
        
        .action-btn.reject {
            background: #ffebee;
            color: var(--danger);
        }
        
        /* Search and Filters */
        .search-box {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            align-items: center;
        }
        
        .search-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        .filter-select {
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            font-size: 1rem;
            min-width: 150px;
        }
        
        /* Child Profile */
        .child-profile {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
            align-items: flex-start;
        }
        
        .child-photo {
            width: 180px;
            height: 180px;
            border-radius: 15px;
            object-fit: cover;
            border: 4px solid var(--light);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .child-details {
            flex: 1;
        }
        
        .child-details h3 {
            font-size: 1.6rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .info-item {
            margin-bottom: 15px;
        }
        
        .info-label {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .info-value {
            color: #555;
            padding: 8px 0;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        /* Document Preview */
        .document-preview {
            border: 2px dashed #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
        }
        
        .document-preview img {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .notification.success {
            background: #27ae60;
        }
        
        .notification.error {
            background: #e74c3c;
        }
        
        .notification.info {
            background: #3498db;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                width: 80px;
            }
            
            .logo h1, .menu-item span, .menu-badge {
                display: none;
            }
            
            .logo {
                justify-content: center;
                padding: 0 0 25px;
            }
            
            .logo i {
                margin-right: 0;
            }
            
            .main-content {
                margin-left: 80px;
            }
            
            .child-profile {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-hands-helping"></i>
            <h1>AdoptLink Admin</h1>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item active" data-target="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
                <span class="menu-badge">Home</span>
            </li>
            <li class="menu-item" data-target="children">
                <i class="fas fa-child"></i>
                <span>Children Management</span>
                <span class="menu-badge" id="childrenCount">3</span>
            </li>
            <li class="menu-item" data-target="parents">
                <i class="fas fa-users"></i>
                <span>Parents & Adoptions</span>
                <span class="menu-badge" id="parentsCount">2</span>
            </li>
            <li class="menu-item" data-target="staff">
                <i class="fas fa-user-tie"></i>
                <span>Staff Management</span>
                <span class="menu-badge" id="staffCount">2</span>
            </li>
            <li class="menu-item" data-target="documents">
                <i class="fas fa-file-contract"></i>
                <span>Document Verification</span>
                <span class="menu-badge" id="documentsCount">5</span>
            </li>
            <li class="menu-item" data-target="homevisits">
                <i class="fas fa-home"></i>
                <span>Home Visits</span>
                <span class="menu-badge" id="visitsCount">3</span>
            </li>
            <li class="menu-item" data-target="reports">
                <i class="fas fa-chart-bar"></i>
                <span>Reports & Analytics</span>
            </li>
            <li class="menu-item" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h2 id="pageTitle">Admin Dashboard</h2>
            <div class="user-info">
                <div class="user-avatar">OA</div>
                <div class="user-details">
                    <h4>Orphanage Administrator</h4>
                    <p>Last login: Today, 10:30 AM</p>
                </div>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="dashboard-content active" id="dashboard">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background: #e3f2fd; color: #1976d2;">
                        <i class="fas fa-child"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalChildren">3</h3>
                        <p>Total Children</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #e8f5e8; color: #2e7d32;">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="adoptedChildren">1</h3>
                        <p>Adopted Children</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #fff3e0; color: #f57c00;">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="verifiedParents">1</h3>
                        <p>Verified Parents</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #fce4ec; color: #c2185b;">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="pendingDocuments">5</h3>
                        <p>Pending Documents</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Recent Activities</h3>
                    <button class="btn btn-outline" onclick="refreshDashboard()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                <div class="activity-list" id="activityList">
                    <!-- Activities will be populated by JavaScript -->
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Pending Actions</h3>
                </div>
                <div class="info-grid" id="pendingActions">
                    <!-- Pending actions will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Children Management Content -->
        <div class="dashboard-content" id="children">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Children Management</h3>
                    <button class="btn btn-primary" id="addChildBtn">
                        <i class="fas fa-plus"></i> Add New Child
                    </button>
                </div>
                <div class="search-box">
                    <input type="text" class="search-input" id="childSearch" placeholder="Search children by name, age, or status...">
                    <select class="filter-select" id="childStatusFilter">
                        <option value="all">All Status</option>
                        <option value="available">Available</option>
                        <option value="pending">Pending Adoption</option>
                        <option value="adopted">Adopted</option>
                    </select>
                    <button class="btn btn-primary" onclick="searchChildren()">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Child Name</th>
                                <th>Age</th>
                                <th>Gender</th>
                                <th>Special Needs</th>
                                <th>Status</th>
                                <th>Adoption Progress</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="childrenTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Parents & Adoptions Content -->
        <div class="dashboard-content" id="parents">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Parents & Adoption Applications</h3>
                    <button class="btn btn-outline" onclick="exportParentReport()">
                        <i class="fas fa-download"></i> Export Report
                    </button>
                </div>
                <div class="search-box">
                    <input type="text" class="search-input" id="parentSearch" placeholder="Search parents by name, email, or status...">
                    <select class="filter-select" id="parentStatusFilter">
                        <option value="all">All Applications</option>
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="rejected">Rejected</option>
                    </select>
                    <button class="btn btn-primary" onclick="searchParents()">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Parent Name</th>
                                <th>Contact Info</th>
                                <th>Applied For</th>
                                <th>Application Date</th>
                                <th>Status</th>
                                <th>Assigned Staff</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="parentsTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Staff Management Content -->
        <div class="dashboard-content" id="staff">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Staff Management</h3>
                    <button class="btn btn-primary" id="addStaffBtn">
                        <i class="fas fa-user-plus"></i> Add Staff
                    </button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Staff Name</th>
                                <th>Role</th>
                                <th>Department</th>
                                <th>Contact</th>
                                <th>Active Cases</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="staffTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Document Verification Content -->
        <div class="dashboard-content" id="documents">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Document Verification</h3>
                    <button class="btn btn-outline" onclick="filterDocuments()">
                        <i class="fas fa-filter"></i> Filter
                    </button>
                </div>
                <div class="search-box">
                    <input type="text" class="search-input" id="documentSearch" placeholder="Search documents...">
                    <select class="filter-select" id="documentStatusFilter">
                        <option value="all">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="verified">Verified</option>
                        <option value="rejected">Rejected</option>
                    </select>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Parent Name</th>
                                <th>Document Type</th>
                                <th>Submitted Date</th>
                                <th>File Type</th>
                                <th>Status</th>
                                <th>Verified By</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="documentsTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Home Visits Content -->
        <div class="dashboard-content" id="homevisits">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Home Visit Management</h3>
                    <button class="btn btn-primary" id="scheduleVisitBtn">
                        <i class="fas fa-calendar-plus"></i> Schedule Visit
                    </button>
                </div>
                <div class="search-box">
                    <input type="text" class="search-input" id="visitSearch" placeholder="Search visits...">
                    <select class="filter-select" id="visitStatusFilter">
                        <option value="all">All Status</option>
                        <option value="scheduled">Scheduled</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Visit Date</th>
                                <th>Parent/Family</th>
                                <th>Assigned Staff</th>
                                <th>Purpose</th>
                                <th>Status</th>
                                <th>Report</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="visitsTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Reports Content -->
        <div class="dashboard-content" id="reports">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Reports & Analytics</h3>
                    <div class="action-buttons">
                        <button class="btn btn-success" onclick="generatePDFReport()">
                            <i class="fas fa-file-pdf"></i> Generate PDF
                        </button>
                        <button class="btn btn-primary" onclick="exportExcelReport()">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                    </div>
                </div>
                <div class="info-grid" id="reportsGrid">
                    <!-- Reports data will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Add Child Modal -->
    <div class="modal" id="addChildModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Child</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="addChildForm">
                <div class="form-group">
                    <label for="childName">Full Name</label>
                    <input type="text" id="childName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="childDob">Date of Birth</label>
                    <input type="date" id="childDob" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="childGender">Gender</label>
                    <select id="childGender" class="form-control" required>
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="childBackground">Background Information</label>
                    <textarea id="childBackground" class="form-control" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="childSpecialNeeds">Special Needs (if any)</label>
                    <input type="text" id="childSpecialNeeds" class="form-control" placeholder="Separate with commas">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-save"></i> Add Child
                </button>
            </form>
        </div>
    </div>

    <!-- Add Staff Modal -->
    <div class="modal" id="addStaffModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Staff</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="addStaffForm">
                <div class="form-group">
                    <label for="staffName">Full Name</label>
                    <input type="text" id="staffName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="staffRole">Role</label>
                    <select id="staffRole" class="form-control" required>
                        <option value="">Select Role</option>
                        <option value="Case Worker">Case Worker</option>
                        <option value="Social Worker">Social Worker</option>
                        <option value="Counselor">Counselor</option>
                        <option value="Verification Officer">Verification Officer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="staffDepartment">Department</label>
                    <input type="text" id="staffDepartment" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="staffContact">Contact Email</label>
                    <input type="email" id="staffContact" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-save"></i> Add Staff
                </button>
            </form>
        </div>
    </div>

    <!-- Schedule Visit Modal -->
    <div class="modal" id="scheduleVisitModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Schedule Home Visit</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="scheduleVisitForm">
                <div class="form-group">
                    <label for="visitParent">Select Parent/Family</label>
                    <select id="visitParent" class="form-control" required>
                        <option value="">Select Parent</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="visitStaff">Assign Staff</label>
                    <select id="visitStaff" class="form-control" required>
                        <option value="">Select Staff</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="visitDate">Visit Date</label>
                    <input type="datetime-local" id="visitDate" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="visitPurpose">Purpose</label>
                    <textarea id="visitPurpose" class="form-control" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-calendar-check"></i> Schedule Visit
                </button>
            </form>
        </div>
    </div>

    <!-- Document View Modal -->
    <div class="modal" id="documentViewModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Document Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="documentDetails">
                <!-- Document details will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Assign Work Modal -->
    <div class="modal" id="assignWorkModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Assign Work to Staff</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="assignWorkForm">
                <div class="form-group">
                    <label for="workStaff">Staff Member</label>
                    <select id="workStaff" class="form-control" required>
                        <option value="">Select Staff</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="workType">Work Type</label>
                    <select id="workType" class="form-control" required>
                        <option value="">Select Work Type</option>
                        <option value="home_visit">Home Visit</option>
                        <option value="document_verification">Document Verification</option>
                        <option value="counseling">Counseling Session</option>
                        <option value="case_review">Case Review</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="workDescription">Work Description</label>
                    <textarea id="workDescription" class="form-control" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="workDeadline">Deadline</label>
                    <input type="date" id="workDeadline" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-tasks"></i> Assign Work
                </button>
            </form>
        </div>
    </div>

    <!-- Assign Staff to Parent Modal -->
    <div class="modal" id="assignStaffToParentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Assign Staff to Parent</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="assignStaffToParentForm">
                <input type="hidden" id="assignParentId">
                <div class="form-group">
                    <label for="assignStaffMember">Select Staff Member</label>
                    <select id="assignStaffMember" class="form-control" required>
                        <option value="">Select Staff</option>
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="assignNotes">Assignment Notes</label>
                    <textarea id="assignNotes" class="form-control" rows="3" placeholder="Add any specific instructions or notes..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-user-tie"></i> Assign Staff
                </button>
            </form>
        </div>
    </div>

    <!-- Update Parent Status Modal -->
    <div class="modal" id="updateParentStatusModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Update Application Status</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="updateParentStatusForm">
                <input type="hidden" id="updateParentId">
                <div class="form-group">
                    <label for="parentStatus">Application Status</label>
                    <select id="parentStatus" class="form-control" required>
                        <option value="">Select Status</option>
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="rejected">Rejected</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="statusReason">Reason (Optional)</label>
                    <textarea id="statusReason" class="form-control" rows="3" placeholder="Provide reason for status change..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-save"></i> Update Status
                </button>
            </form>
        </div>
    </div>

    <!-- Home Visit Report Modal -->
    <div class="modal" id="homeVisitReportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Home Visit Report</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="homeVisitReportContent">
                <!-- Home visit report content will be populated by JavaScript -->
            </div>
        </div>
    </div>
    

    <script>
        
        // Enhanced sample data with more realistic information
        let adminData = {
            children: [
                {
                    id: 1,
                    name: "Emma Johnson",
                    age: 7,
                    gender: "Female",
                    specialNeeds: "None",
                    status: "available",
                    background: "Emma came to us when she was 4 years old. She is a bright and cheerful child who loves drawing and outdoor activities.",
                    progress: "Not Started",
                    dateOfBirth: "2016-03-12",
                    joinedDate: "2020-05-15"
                },
                {
                    id: 2,
                    name: "Liam Brown",
                    age: 5,
                    gender: "Male",
                    specialNeeds: "Asthma",
                    status: "pending",
                    background: "Liam has been with us for 2 years. He loves playing outdoors and has mild asthma that requires regular medication.",
                    progress: "Home Visit Scheduled",
                    dateOfBirth: "2018-07-22",
                    joinedDate: "2021-08-10"
                },
                {
                    id: 3,
                    name: "Sophia Williams",
                    age: 4,
                    gender: "Female",
                    specialNeeds: "Hearing impairment",
                    status: "adopted",
                    background: "Sophia was adopted last month by the Sharma family. She has hearing impairment and uses hearing aids.",
                    progress: "Completed",
                    dateOfBirth: "2019-11-05",
                    joinedDate: "2022-01-20",
                    adoptedDate: "2024-01-10"
                }
            ],
            parents: [
                {
                    id: 1,
                    name: "Raj Kumar",
                    email: "raj.kumar@email.com",
                    phone: "+91 9876543210",
                    appliedFor: "Emma Johnson",
                    applicationDate: "2024-01-10",
                    status: "pending",
                    assignedStaff: "Not Assigned",
                    address: "123 Main Street, Bangalore",
                    occupation: "Software Engineer"
                },
                {
                    id: 2,
                    name: "Priya Sharma",
                    email: "priya.sharma@email.com",
                    phone: "+91 8765432109",
                    appliedFor: "Liam Brown",
                    applicationDate: "2024-01-08",
                    status: "approved",
                    assignedStaff: "Anita Desai",
                    address: "456 Oak Avenue, Mumbai",
                    occupation: "Doctor"
                }
            ],
            staff: [
                {
                    id: 1,
                    name: "Anita Desai",
                    role: "Case Worker",
                    department: "Adoption",
                    contact: "anita@orphanage.org",
                    activeCases: 8,
                    status: "Active",
                    joinDate: "2022-03-15"
                },
                {
                    id: 2,
                    name: "Rohan Mehra",
                    role: "Social Worker",
                    department: "Home Visits",
                    contact: "rohan@orphanage.org",
                    activeCases: 5,
                    status: "Active",
                    joinDate: "2023-01-10"
                }
            ],
            documents: [
                {
                    id: 1,
                    parentName: "Raj Kumar",
                    documentType: "Identity Proof",
                    submittedDate: "2024-01-10",
                    fileType: "PDF",
                    status: "pending",
                    verifiedBy: "-"
                },
                {
                    id: 2,
                    parentName: "Raj Kumar",
                    documentType: "Income Proof",
                    submittedDate: "2024-01-10",
                    fileType: "PDF",
                    status: "pending",
                    verifiedBy: "-"
                },
                {
                    id: 3,
                    parentName: "Priya Sharma",
                    documentType: "Identity Proof",
                    submittedDate: "2024-01-08",
                    fileType: "PDF",
                    status: "verified",
                    verifiedBy: "Anita Desai"
                },
                {
                    id: 4,
                    parentName: "Priya Sharma",
                    documentType: "Address Proof",
                    submittedDate: "2024-01-08",
                    fileType: "PDF",
                    status: "verified",
                    verifiedBy: "Anita Desai"
                },
                {
                    id: 5,
                    parentName: "Priya Sharma",
                    documentType: "Medical Certificate",
                    submittedDate: "2024-01-09",
                    fileType: "PDF",
                    status: "pending",
                    verifiedBy: "-"
                }
            ],
            homeVisits: [
                {
                    id: 1,
                    visitDate: "2024-01-15",
                    parentFamily: "Raj Kumar",
                    assignedStaff: "Rohan Mehra",
                    purpose: "Initial home assessment for Emma Johnson adoption",
                    status: "scheduled",
                    report: "Not Available"
                },
                {
                    id: 2,
                    visitDate: "2024-01-12",
                    parentFamily: "Priya Sharma",
                    assignedStaff: "Anita Desai",
                    purpose: "Follow-up visit for Liam Brown adoption",
                    status: "completed",
                    report: "Available"
                },
                {
                    id: 3,
                    visitDate: "2024-01-18",
                    parentFamily: "New Applicant",
                    assignedStaff: "Rohan Mehra",
                    purpose: "Initial assessment for new application",
                    status: "scheduled",
                    report: "Not Available"
                }
            ],
            activities: [
                {
                    id: 1,
                    type: "home_visit",
                    message: "Home visit completed for Sharma family",
                    timestamp: "2 hours ago",
                    icon: "fa-home",
                    iconColor: "#2e7d32",
                    bgColor: "#e8f5e8"
                },
                {
                    id: 2,
                    type: "document",
                    message: "New adoption application from Mr. Raj Kumar",
                    timestamp: "5 hours ago",
                    icon: "fa-file-signature",
                    iconColor: "#1976d2",
                    bgColor: "#e3f2fd"
                },
                {
                    id: 3,
                    type: "staff",
                    message: "New staff member added - Case Worker",
                    timestamp: "Yesterday",
                    icon: "fa-user-plus",
                    iconColor: "#f57c00",
                    bgColor: "#fff3e0"
                }
            ]
        };

        // DOM Elements
        const menuItems = document.querySelectorAll('.menu-item');
        const dashboardContents = document.querySelectorAll('.dashboard-content');
        const pageTitle = document.getElementById('pageTitle');
        const addChildModal = document.getElementById('addChildModal');
        const addStaffModal = document.getElementById('addStaffModal');
        const scheduleVisitModal = document.getElementById('scheduleVisitModal');
        const documentViewModal = document.getElementById('documentViewModal');
        const assignWorkModal = document.getElementById('assignWorkModal');
        const assignStaffToParentModal = document.getElementById('assignStaffToParentModal');
        const updateParentStatusModal = document.getElementById('updateParentStatusModal');
        const homeVisitReportModal = document.getElementById('homeVisitReportModal');
        
        const closeModalButtons = document.querySelectorAll('.close-modal');
        const addChildForm = document.getElementById('addChildForm');
        const addStaffForm = document.getElementById('addStaffForm');
        const scheduleVisitForm = document.getElementById('scheduleVisitForm');
        const assignWorkForm = document.getElementById('assignWorkForm');
        const assignStaffToParentForm = document.getElementById('assignStaffToParentForm');
        const updateParentStatusForm = document.getElementById('updateParentStatusForm');

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
        });

        // Menu navigation
        menuItems.forEach(item => {
            if (item.id !== 'logoutBtn') {
                item.addEventListener('click', () => {
                    const target = item.getAttribute('data-target');
                    
                    // Update active menu item
                    menuItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show corresponding content
                    dashboardContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === target) {
                            content.classList.add('active');
                        }
                    });
                    
                    // Update page title
                    pageTitle.textContent = item.querySelector('span').textContent;
                });
            }
        });

        // Logout functionality
      // Logout functionality
document.getElementById('logoutBtn').addEventListener('click', () => {
    if (confirm('Are you sure you want to logout?')) {
        showNotification('Logging out...', 'info');
        setTimeout(() => {
            // Redirect to login page
            window.location.href = 'login.html';
        }, 1500);
    }
});

        // Modal functionality
        document.getElementById('addChildBtn').addEventListener('click', () => {
            addChildModal.style.display = 'flex';
        });

        document.getElementById('addStaffBtn').addEventListener('click', () => {
            addStaffModal.style.display = 'flex';
        });

        document.getElementById('scheduleVisitBtn').addEventListener('click', () => {
            populateVisitForm();
            scheduleVisitModal.style.display = 'flex';
        });

        closeModalButtons.forEach(button => {
            button.addEventListener('click', () => {
                addChildModal.style.display = 'none';
                addStaffModal.style.display = 'none';
                scheduleVisitModal.style.display = 'none';
                documentViewModal.style.display = 'none';
                assignWorkModal.style.display = 'none';
                assignStaffToParentModal.style.display = 'none';
                updateParentStatusModal.style.display = 'none';
                homeVisitReportModal.style.display = 'none';
            });
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === addChildModal) addChildModal.style.display = 'none';
            if (e.target === addStaffModal) addStaffModal.style.display = 'none';
            if (e.target === scheduleVisitModal) scheduleVisitModal.style.display = 'none';
            if (e.target === documentViewModal) documentViewModal.style.display = 'none';
            if (e.target === assignWorkModal) assignWorkModal.style.display = 'none';
            if (e.target === assignStaffToParentModal) assignStaffToParentModal.style.display = 'none';
            if (e.target === updateParentStatusModal) updateParentStatusModal.style.display = 'none';
            if (e.target === homeVisitReportModal) homeVisitReportModal.style.display = 'none';
        });

        // Form submissions
        addChildForm.addEventListener('submit', (e) => {
            e.preventDefault();
            addNewChild();
        });

        addStaffForm.addEventListener('submit', (e) => {
            e.preventDefault();
            addNewStaff();
        });

        scheduleVisitForm.addEventListener('submit', (e) => {
            e.preventDefault();
            scheduleNewVisit();
        });

        assignWorkForm.addEventListener('submit', (e) => {
            e.preventDefault();
            assignNewWork();
        });

        assignStaffToParentForm.addEventListener('submit', (e) => {
            e.preventDefault();
            assignStaffToParent();
        });

        updateParentStatusForm.addEventListener('submit', (e) => {
            e.preventDefault();
            updateParentStatus();
        });

        // Initialize all dashboard components
        function initializeDashboard() {
            populateChildrenTable();
            populateParentsTable();
            populateStaffTable();
            populateDocumentsTable();
            populateVisitsTable();
            updateDashboardStats();
            populateActivities();
            populatePendingActions();
            populateReports();
        }

        // Refresh dashboard
        function refreshDashboard() {
            initializeDashboard();
            showNotification('Dashboard refreshed successfully!', 'success');
        }

        // Add new child
        function addNewChild() {
            const name = document.getElementById('childName').value;
            const dob = document.getElementById('childDob').value;
            const gender = document.getElementById('childGender').value;
            const background = document.getElementById('childBackground').value;
            const specialNeeds = document.getElementById('childSpecialNeeds').value;

            const newChild = {
                id: adminData.children.length + 1,
                name: name,
                age: calculateAge(dob),
                gender: gender,
                specialNeeds: specialNeeds || "None",
                status: "available",
                background: background,
                progress: "Not Started",
                dateOfBirth: dob,
                joinedDate: new Date().toISOString().split('T')[0]
            };

            adminData.children.push(newChild);
            addChildModal.style.display = 'none';
            addChildForm.reset();
            
            populateChildrenTable();
            updateDashboardStats();
            showNotification('Child added successfully!', 'success');
        }

        // Add new staff
        function addNewStaff() {
            const name = document.getElementById('staffName').value;
            const role = document.getElementById('staffRole').value;
            const department = document.getElementById('staffDepartment').value;
            const contact = document.getElementById('staffContact').value;

            const newStaff = {
                id: adminData.staff.length + 1,
                name: name,
                role: role,
                department: department,
                contact: contact,
                activeCases: 0,
                status: "Active",
                joinDate: new Date().toISOString().split('T')[0]
            };

            adminData.staff.push(newStaff);
            addStaffModal.style.display = 'none';
            addStaffForm.reset();
            
            populateStaffTable();
            updateDashboardStats();
            showNotification('Staff member added successfully!', 'success');
        }

        // Schedule new visit
        function scheduleNewVisit() {
            const parent = document.getElementById('visitParent').value;
            const staff = document.getElementById('visitStaff').value;
            const date = document.getElementById('visitDate').value;
            const purpose = document.getElementById('visitPurpose').value;

            const newVisit = {
                id: adminData.homeVisits.length + 1,
                visitDate: date.split('T')[0],
                parentFamily: parent,
                assignedStaff: staff,
                purpose: purpose,
                status: "scheduled",
                report: "Not Available"
            };

            adminData.homeVisits.push(newVisit);
            scheduleVisitModal.style.display = 'none';
            scheduleVisitForm.reset();
            
            populateVisitsTable();
            updateDashboardStats();
            showNotification('Home visit scheduled successfully!', 'success');
        }

        // Assign new work
        function assignNewWork() {
            const staff = document.getElementById('workStaff').value;
            const workType = document.getElementById('workType').value;
            const description = document.getElementById('workDescription').value;
            const deadline = document.getElementById('workDeadline').value;

            // Update staff active cases
            const staffMember = adminData.staff.find(s => s.name === staff);
            if (staffMember) {
                staffMember.activeCases++;
            }

            assignWorkModal.style.display = 'none';
            assignWorkForm.reset();
            
            populateStaffTable();
            showNotification('Work assigned successfully!', 'success');
        }

        // Assign staff to parent
        function assignStaffToParent() {
            const parentId = parseInt(document.getElementById('assignParentId').value);
            const staffMember = document.getElementById('assignStaffMember').value;
            const notes = document.getElementById('assignNotes').value;

            const parent = adminData.parents.find(p => p.id === parentId);
            if (parent) {
                parent.assignedStaff = staffMember;
                
                // Update staff active cases
                const staff = adminData.staff.find(s => s.name === staffMember);
                if (staff) {
                    staff.activeCases++;
                }

                assignStaffToParentModal.style.display = 'none';
                assignStaffToParentForm.reset();
                
                populateParentsTable();
                populateStaffTable();
                showNotification('Staff assigned to parent successfully!', 'success');
            }
        }

        // Update parent status
        function updateParentStatus() {
            const parentId = parseInt(document.getElementById('updateParentId').value);
            const status = document.getElementById('parentStatus').value;
            const reason = document.getElementById('statusReason').value;

            const parent = adminData.parents.find(p => p.id === parentId);
            if (parent) {
                parent.status = status;
                
                // If approved, update child status
                if (status === 'approved') {
                    const child = adminData.children.find(c => c.name === parent.appliedFor);
                    if (child) {
                        child.status = 'pending';
                        child.progress = 'Under Review';
                    }
                }

                updateParentStatusModal.style.display = 'none';
                updateParentStatusForm.reset();
                
                populateParentsTable();
                populateChildrenTable();
                showNotification('Parent application status updated successfully!', 'success');
            }
        }

        // Populate forms
        function populateVisitForm() {
            const parentSelect = document.getElementById('visitParent');
            const staffSelect = document.getElementById('visitStaff');

            parentSelect.innerHTML = '<option value="">Select Parent</option>';
            staffSelect.innerHTML = '<option value="">Select Staff</option>';

            adminData.parents.forEach(parent => {
                const option = document.createElement('option');
                option.value = parent.name;
                option.textContent = parent.name;
                parentSelect.appendChild(option);
            });

            adminData.staff.forEach(staff => {
                const option = document.createElement('option');
                option.value = staff.name;
                option.textContent = staff.name;
                staffSelect.appendChild(option);
            });
        }

        function populateWorkForm() {
            const staffSelect = document.getElementById('workStaff');
            staffSelect.innerHTML = '<option value="">Select Staff</option>';

            adminData.staff.forEach(staff => {
                const option = document.createElement('option');
                option.value = staff.name;
                option.textContent = staff.name;
                staffSelect.appendChild(option);
            });
        }

        function populateAssignStaffForm() {
            const staffSelect = document.getElementById('assignStaffMember');
            staffSelect.innerHTML = '<option value="">Select Staff</option>';

            adminData.staff.forEach(staff => {
                const option = document.createElement('option');
                option.value = staff.name;
                option.textContent = `${staff.name} (${staff.role})`;
                staffSelect.appendChild(option);
            });
        }

        // Document verification
        function verifyDocument(docId, status) {
            const doc = adminData.documents.find(d => d.id === docId);
            if (doc) {
                doc.status = status;
                doc.verifiedBy = "Orphanage Admin";
                populateDocumentsTable();
                updateDashboardStats();
                showNotification(`Document ${status} successfully!`, 'success');
            }
        }

        // View document details
        function viewDocument(docId) {
            const doc = adminData.documents.find(d => d.id === docId);
            if (doc) {
                const details = document.getElementById('documentDetails');
                details.innerHTML = `
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">Parent Name</div>
                            <div class="info-value">${doc.parentName}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Document Type</div>
                            <div class="info-value">${doc.documentType}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Submitted Date</div>
                            <div class="info-value">${doc.submittedDate}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Status</div>
                            <div class="info-value"><span class="status-badge status-${doc.status}">${doc.status}</span></div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Verified By</div>
                            <div class="info-value">${doc.verifiedBy}</div>
                        </div>
                    </div>
                    <div class="document-preview">
                        <i class="fas fa-file-pdf" style="font-size: 48px; color: #e74c3c; margin-bottom: 15px;"></i>
                        <p>Document Preview: ${doc.documentType}.pdf</p>
                        <p style="color: #666; font-size: 0.9rem;">This is a simulated document preview. In a real application, this would show the actual document.</p>
                    </div>
                    ${doc.status === 'pending' ? `
                    <div class="action-buttons" style="margin-top: 20px; justify-content: center;">
                        <button class="btn btn-success" onclick="verifyDocument(${doc.id}, 'verified')">
                            <i class="fas fa-check"></i> Approve
                        </button>
                        <button class="btn btn-danger" onclick="verifyDocument(${doc.id}, 'rejected')">
                            <i class="fas fa-times"></i> Reject
                        </button>
                    </div>
                    ` : ''}
                `;
                documentViewModal.style.display = 'flex';
            }
        }

        // Search and filter functions
        function searchChildren() {
            const searchTerm = document.getElementById('childSearch').value.toLowerCase();
            const statusFilter = document.getElementById('childStatusFilter').value;
            
            let filtered = adminData.children.filter(child => {
                const matchesSearch = child.name.toLowerCase().includes(searchTerm) || 
                                    child.age.toString().includes(searchTerm) ||
                                    child.specialNeeds.toLowerCase().includes(searchTerm);
                const matchesStatus = statusFilter === 'all' || child.status === statusFilter;
                return matchesSearch && matchesStatus;
            });
            
            populateChildrenTable(filtered);
        }

        function searchParents() {
            const searchTerm = document.getElementById('parentSearch').value.toLowerCase();
            const statusFilter = document.getElementById('parentStatusFilter').value;
            
            let filtered = adminData.parents.filter(parent => {
                const matchesSearch = parent.name.toLowerCase().includes(searchTerm) || 
                                    parent.email.toLowerCase().includes(searchTerm);
                const matchesStatus = statusFilter === 'all' || parent.status === statusFilter;
                return matchesSearch && matchesStatus;
            });
            
            populateParentsTable(filtered);
        }

        function filterDocuments() {
            const searchTerm = document.getElementById('documentSearch').value.toLowerCase();
            const statusFilter = document.getElementById('documentStatusFilter').value;
            
            let filtered = adminData.documents.filter(doc => {
                const matchesSearch = doc.parentName.toLowerCase().includes(searchTerm) || 
                                    doc.documentType.toLowerCase().includes(searchTerm);
                const matchesStatus = statusFilter === 'all' || doc.status === statusFilter;
                return matchesSearch && matchesStatus;
            });
            
            populateDocumentsTable(filtered);
        }

        // Report generation
        function generatePDFReport() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFontSize(20);
            doc.text('Adoption System Report', 20, 20);
            doc.setFontSize(12);
            doc.text(`Generated on: ${new Date().toLocaleDateString()}`, 20, 30);
            
            doc.text(`Total Children: ${adminData.children.length}`, 20, 50);
            doc.text(`Adopted Children: ${adminData.children.filter(c => c.status === 'adopted').length}`, 20, 60);
            doc.text(`Pending Adoptions: ${adminData.children.filter(c => c.status === 'pending').length}`, 20, 70);
            doc.text(`Available Children: ${adminData.children.filter(c => c.status === 'available').length}`, 20, 80);
            
            doc.text(`Total Parents: ${adminData.parents.length}`, 20, 100);
            doc.text(`Verified Parents: ${adminData.parents.filter(p => p.status === 'approved').length}`, 20, 110);
            
            doc.save('adoption-report.pdf');
            showNotification('PDF report generated successfully!', 'success');
        }

        function exportExcelReport() {
            // Simulate Excel export
            const data = [
                ['Category', 'Count'],
                ['Total Children', adminData.children.length],
                ['Adopted Children', adminData.children.filter(c => c.status === 'adopted').length],
                ['Pending Adoptions', adminData.children.filter(c => c.status === 'pending').length],
                ['Available Children', adminData.children.filter(c => c.status === 'available').length],
                ['Total Parents', adminData.parents.length],
                ['Verified Parents', adminData.parents.filter(p => p.status === 'approved').length]
            ];
            
            let csvContent = "data:text/csv;charset=utf-8,";
            data.forEach(row => {
                csvContent += row.join(",") + "\r\n";
            });
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "adoption_report.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Excel report exported successfully!', 'success');
        }

        function exportParentReport() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFontSize(20);
            doc.text('Parents Report', 20, 20);
            doc.setFontSize(10);
            
            let y = 40;
            adminData.parents.forEach((parent, index) => {
                if (y > 270) {
                    doc.addPage();
                    y = 20;
                }
                
                doc.text(`${index + 1}. ${parent.name}`, 20, y);
                doc.text(`   Email: ${parent.email}`, 25, y + 5);
                doc.text(`   Phone: ${parent.phone}`, 25, y + 10);
                doc.text(`   Status: ${parent.status}`, 25, y + 15);
                doc.text(`   Applied For: ${parent.appliedFor}`, 25, y + 20);
                
                y += 30;
            });
            
            doc.save('parents-report.pdf');
            showNotification('Parents report exported successfully!', 'success');
        }

        // Populate tables
        function populateChildrenTable(children = adminData.children) {
            const table = document.getElementById('childrenTable');
            table.innerHTML = children.map(child => `
                <tr>
                    <td>
                        <strong>${child.name}</strong>
                        <br><small>${child.background.substring(0, 50)}...</small>
                    </td>
                    <td>${child.age} years</td>
                    <td>${child.gender}</td>
                    <td>${child.specialNeeds}</td>
                    <td><span class="status-badge status-${child.status}">${child.status}</span></td>
                    <td>${child.progress}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewChild(${child.id})">
                                <i class="fas fa-eye"></i> View
                            </button>
                            <button class="action-btn edit" onclick="editChild(${child.id})">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="action-btn assign" onclick="assignChild(${child.id})">
                                <i class="fas fa-user-plus"></i> Assign
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function populateParentsTable(parents = adminData.parents) {
            const table = document.getElementById('parentsTable');
            table.innerHTML = parents.map(parent => `
                <tr>
                    <td>
                        <strong>${parent.name}</strong>
                        <br><small>Applied for: ${parent.appliedFor}</small>
                    </td>
                    <td>
                        ${parent.email}<br>
                        <small>${parent.phone}</small>
                    </td>
                    <td>${parent.appliedFor}</td>
                    <td>${parent.applicationDate}</td>
                    <td><span class="status-badge status-${parent.status}">${parent.status}</span></td>
                    <td>${parent.assignedStaff}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewParent(${parent.id})">
                                <i class="fas fa-eye"></i> View
                            </button>
                            <button class="action-btn edit" onclick="editParent(${parent.id})">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="action-btn assign" onclick="openAssignStaffToParentModal(${parent.id})">
                                <i class="fas fa-user-tie"></i> Assign Staff
                            </button>
                            <button class="action-btn ${parent.status === 'pending' ? 'approve' : 'edit'}" onclick="openUpdateParentStatusModal(${parent.id})">
                                <i class="fas ${parent.status === 'pending' ? 'fa-check' : 'fa-edit'}"></i> ${parent.status === 'pending' ? 'Review' : 'Update'}
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function populateStaffTable(staff = adminData.staff) {
            const table = document.getElementById('staffTable');
            table.innerHTML = staff.map(staff => `
                <tr>
                    <td><strong>${staff.name}</strong></td>
                    <td>${staff.role}</td>
                    <td>${staff.department}</td>
                    <td>${staff.contact}</td>
                    <td>${staff.activeCases} cases</td>
                    <td><span class="status-badge status-verified">${staff.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewStaff(${staff.id})">
                                <i class="fas fa-eye"></i> Profile
                            </button>
                            <button class="action-btn edit" onclick="editStaff(${staff.id})">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="action-btn assign" onclick="openAssignWorkModal(${staff.id})">
                                <i class="fas fa-tasks"></i> Assign Work
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function populateDocumentsTable(documents = adminData.documents) {
            const table = document.getElementById('documentsTable');
            table.innerHTML = documents.map(doc => `
                <tr>
                    <td>${doc.parentName}</td>
                    <td>${doc.documentType}</td>
                    <td>${doc.submittedDate}</td>
                    <td>${doc.fileType}</td>
                    <td><span class="status-badge status-${doc.status}">${doc.status}</span></td>
                    <td>${doc.verifiedBy}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewDocument(${doc.id})">
                                <i class="fas fa-eye"></i> View
                            </button>
                            ${doc.status === 'pending' ? `
                            <button class="action-btn verify" onclick="verifyDocument(${doc.id}, 'verified')">
                                <i class="fas fa-check"></i> Verify
                            </button>
                            <button class="action-btn reject" onclick="verifyDocument(${doc.id}, 'rejected')">
                                <i class="fas fa-times"></i> Reject
                            </button>
                            ` : ''}
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function populateVisitsTable(visits = adminData.homeVisits) {
            const table = document.getElementById('visitsTable');
            table.innerHTML = visits.map(visit => `
                <tr>
                    <td>${visit.visitDate}</td>
                    <td>${visit.parentFamily}</td>
                    <td>${visit.assignedStaff}</td>
                    <td>${visit.purpose}</td>
                    <td><span class="status-badge status-${visit.status}">${visit.status}</span></td>
                    <td>${visit.report}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn view" onclick="viewVisitReport(${visit.id})">
                                <i class="fas fa-eye"></i> ${visit.report === 'Available' ? 'View Report' : 'Details'}
                            </button>
                            <button class="action-btn edit" onclick="editVisit(${visit.id})">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="action-btn ${visit.status === 'scheduled' ? 'approve' : 'delete'}" onclick="${visit.status === 'scheduled' ? `completeVisit(${visit.id})` : `cancelVisit(${visit.id})`}">
                                <i class="fas ${visit.status === 'scheduled' ? 'fa-check' : 'fa-times'}"></i> ${visit.status === 'scheduled' ? 'Complete' : 'Cancel'}
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function populateActivities() {
            const container = document.getElementById('activityList');
            container.innerHTML = adminData.activities.map(activity => `
                <div class="activity-item" style="display: flex; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0;">
                    <div class="activity-icon" style="width: 40px; height: 40px; border-radius: 50%; background: ${activity.bgColor}; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                        <i class="fas ${activity.icon}" style="color: ${activity.iconColor};"></i>
                    </div>
                    <div class="activity-details">
                        <p><strong>${activity.message}</strong></p>
                        <span style="color: #666; font-size: 0.85rem;">${activity.timestamp}</span>
                    </div>
                </div>
            `).join('');
        }

        function populatePendingActions() {
            const container = document.getElementById('pendingActions');
            const pendingDocs = adminData.documents.filter(d => d.status === 'pending').length;
            const scheduledVisits = adminData.homeVisits.filter(v => v.status === 'scheduled').length;
            
            container.innerHTML = `
                <div class="info-item">
                    <div class="info-label">Document Verification</div>
                    <div class="info-value">${pendingDocs} documents pending review</div>
                    <button class="btn btn-primary btn-sm" style="margin-top: 10px;" onclick="showSection('documents')">
                        <i class="fas fa-eye"></i> Review Now
                    </button>
                </div>
                <div class="info-item">
                    <div class="info-label">Home Visit Reports</div>
                    <div class="info-value">${scheduledVisits} visits scheduled</div>
                    <button class="btn btn-primary btn-sm" style="margin-top: 10px;" onclick="showSection('homevisits')">
                        <i class="fas fa-calendar"></i> View Schedule
                    </button>
                </div>
                <div class="info-item">
                    <div class="info-label">Staff Assignments</div>
                    <div class="info-value">New cases need assignment</div>
                    <button class="btn btn-primary btn-sm" style="margin-top: 10px;" onclick="openAssignWorkModal()">
                        <i class="fas fa-user-plus"></i> Assign Now
                    </button>
                </div>
            `;
        }

        function populateReports() {
            const container = document.getElementById('reportsGrid');
            container.innerHTML = `
                <div class="info-item">
                    <div class="info-label">Monthly Adoptions</div>
                    <div class="info-value">8 adoptions this month</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Success Rate</div>
                    <div class="info-value">85% successful adoptions</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Average Processing Time</div>
                    <div class="info-value">45 days</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Active Staff</div>
                    <div class="info-value">${adminData.staff.length} staff members</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Pending Documents</div>
                    <div class="info-value">${adminData.documents.filter(d => d.status === 'pending').length} documents</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Scheduled Visits</div>
                    <div class="info-value">${adminData.homeVisits.filter(v => v.status === 'scheduled').length} visits</div>
                </div>
            `;
        }

        // Update dashboard statistics
        function updateDashboardStats() {
            document.getElementById('totalChildren').textContent = adminData.children.length;
            document.getElementById('adoptedChildren').textContent = adminData.children.filter(c => c.status === 'adopted').length;
            document.getElementById('verifiedParents').textContent = adminData.parents.filter(p => p.status === 'approved').length;
            document.getElementById('pendingDocuments').textContent = adminData.documents.filter(d => d.status === 'pending').length;
            
            // Update menu badges
            document.getElementById('childrenCount').textContent = adminData.children.length;
            document.getElementById('parentsCount').textContent = adminData.parents.length;
            document.getElementById('staffCount').textContent = adminData.staff.length;
            document.getElementById('documentsCount').textContent = adminData.documents.filter(d => d.status === 'pending').length;
            document.getElementById('visitsCount').textContent = adminData.homeVisits.filter(v => v.status === 'scheduled').length;
        }

        // Utility functions
        function calculateAge(dob) {
            const birthDate = new Date(dob);
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            
            return age;
        }

        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function showSection(section) {
            const menuItem = document.querySelector(`[data-target="${section}"]`);
            if (menuItem) {
                menuItem.click();
            }
        }

        function openAssignWorkModal(staffId = null) {
            populateWorkForm();
            if (staffId) {
                const staff = adminData.staff.find(s => s.id === staffId);
                if (staff) {
                    document.getElementById('workStaff').value = staff.name;
                }
            }
            assignWorkModal.style.display = 'flex';
        }

        function openAssignStaffToParentModal(parentId) {
            populateAssignStaffForm();
            document.getElementById('assignParentId').value = parentId;
            
            const parent = adminData.parents.find(p => p.id === parentId);
            if (parent) {
                document.querySelector('#assignStaffToParentModal .modal-header h3').textContent = `Assign Staff to ${parent.name}`;
            }
            
            assignStaffToParentModal.style.display = 'flex';
        }

        function openUpdateParentStatusModal(parentId) {
            document.getElementById('updateParentId').value = parentId;
            
            const parent = adminData.parents.find(p => p.id === parentId);
            if (parent) {
                document.getElementById('parentStatus').value = parent.status;
                document.querySelector('#updateParentStatusModal .modal-header h3').textContent = `Update Status for ${parent.name}`;
            }
            
            updateParentStatusModal.style.display = 'flex';
        }

        // Home Visit Actions
        function completeVisit(visitId) {
            const visit = adminData.homeVisits.find(v => v.id === visitId);
            if (visit) {
                visit.status = 'completed';
                visit.report = 'Available';
                populateVisitsTable();
                showNotification('Home visit marked as completed!', 'success');
            }
        }

        function cancelVisit(visitId) {
            if (confirm('Are you sure you want to cancel this visit?')) {
                const visit = adminData.homeVisits.find(v => v.id === visitId);
                if (visit) {
                    visit.status = 'cancelled';
                    populateVisitsTable();
                    showNotification('Home visit cancelled!', 'success');
                }
            }
        }

        function viewVisitReport(visitId) {
            const visit = adminData.homeVisits.find(v => v.id === visitId);
            if (visit) {
                const content = document.getElementById('homeVisitReportContent');
                content.innerHTML = `
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">Visit Date</div>
                            <div class="info-value">${visit.visitDate}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Parent/Family</div>
                            <div class="info-value">${visit.parentFamily}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Assigned Staff</div>
                            <div class="info-value">${visit.assignedStaff}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Purpose</div>
                            <div class="info-value">${visit.purpose}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Status</div>
                            <div class="info-value"><span class="status-badge status-${visit.status}">${visit.status}</span></div>
                        </div>
                    </div>
                    ${visit.report === 'Available' ? `
                    <div class="form-group" style="margin-top: 20px;">
                        <label>Visit Report Summary</label>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid var(--secondary);">
                            <p><strong>Home Environment:</strong> Clean and well-maintained</p>
                            <p><strong>Family Dynamics:</strong> Supportive and caring environment</p>
                            <p><strong>Safety Assessment:</strong> All safety measures in place</p>
                            <p><strong>Recommendation:</strong> Suitable for adoption process</p>
                        </div>
                    </div>
                    <div class="action-buttons" style="margin-top: 20px; justify-content: center;">
                        <button class="btn btn-primary" onclick="downloadVisitReport(${visit.id})">
                            <i class="fas fa-download"></i> Download Full Report
                        </button>
                    </div>
                    ` : `
                    <div style="text-align: center; padding: 30px; color: #666;">
                        <i class="fas fa-file-alt" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <p>No report available yet. Report will be available after the visit is completed.</p>
                    </div>
                    `}
                `;
                homeVisitReportModal.style.display = 'flex';
            }
        }

        function downloadVisitReport(visitId) {
            showNotification('Visit report download started!', 'success');
        }

        // Action functions
        function viewChild(childId) {
            const child = adminData.children.find(c => c.id === childId);
            if (child) {
                alert(`Viewing child: ${child.name}\nAge: ${child.age}\nStatus: ${child.status}\nSpecial Needs: ${child.specialNeeds}`);
            }
        }

        function editChild(childId) {
            alert(`Editing child with ID: ${childId}`);
        }

        function assignChild(childId) {
            alert(`Assigning child ${childId} to a parent`);
        }

        function viewParent(parentId) {
            const parent = adminData.parents.find(p => p.id === parentId);
            if (parent) {
                alert(`Parent Details:\nName: ${parent.name}\nEmail: ${parent.email}\nPhone: ${parent.phone}\nStatus: ${parent.status}\nApplied For: ${parent.appliedFor}`);
            }
        }

        function editParent(parentId) {
            alert(`Editing parent with ID: ${parentId}`);
        }

        function viewStaff(staffId) {
            const staff = adminData.staff.find(s => s.id === staffId);
            if (staff) {
                alert(`Staff Details:\nName: ${staff.name}\nRole: ${staff.role}\nDepartment: ${staff.department}\nContact: ${staff.contact}\nActive Cases: ${staff.activeCases}`);
            }
        }

        function editStaff(staffId) {
            alert(`Editing staff with ID: ${staffId}`);
        }

        function editVisit(visitId) {
            alert(`Editing visit with ID: ${visitId}`);
        }
    </script>

</body>
</html>